# 10 Правил написания кода на JavaScript

1.  **Случайное использование оператора присваивания.**  
***
Программы JavaScript могут генерировать неожиданные результаты, если программист случайно использует оператор присваивания ( =) вместо оператора сравнения (==) в операторе if.**
Этот if оператор возвращает false(как и ожидалось), потому что x не равно 10:

>***Хорошо***
var x = 0;
>if (x == 10)

Этот if оператор возвращается true(возможно, не так, как ожидалось), потому что 10 верно:

>***Плохо***
var x = 0;
>if (x = 10)

Этот if оператор возвращается false(возможно, не так, как ожидалось), потому что 0 - ложь:

>***Плохо***
var x = 0;
>if (x = 0)

2. **Запутывающее сложение и конкатенация**  
***

Сложение касается сложения чисел.  
Конкатенация - это добавление строк.  
В JavaScript обе операции используют один и тот же +оператор.  
Из-за этого добавление числа в виде числа приведет к другому результату, чем добавление числа в виде строки:

>var x = 10 + 5;          // the result in x is 15  
>var x = 10 + "5";        // the result in x is "105"

При добавлении двух переменных бывает трудно предвидеть результат:

>***Хорошо***
>var x = 10;  
>var y = 5;  
>var z = x + y;           // the result in z is 15  

>***Плохо***
>var x = 10;  
>var y = "5";  
>var z = x + y;           // the result in z is "105"

3. **Доступ к массивам с помощью именованных индексов.**
***
Многие языки программирования поддерживают массивы с именованными индексами.  
Массивы с именованными индексами называются ассоциативными массивами (или хэшами).  
JavaScript не поддерживает массивы с именованными индексами.  
В JavaScript массивы используют нумерованные индексы:  

>***Хорошо***  
>var person = [];  
>person[0] = "John";  
>person[1] = "Doe";  
>person[2] = 46;  
>var x = person.length;       // person.length will return 3  
>var y = person[0];           // person[0] will return "John"  

В JavaScript объекты используют именованные индексы.  
Если вы используете именованный индекс, при доступе к массиву JavaScript переопределит массив на стандартный объект.  
После автоматического переопределения методы и свойства массива будут давать неопределенные или неверные результаты:

>***Плохо***  
>var person = [];  
>person["firstName"] = "John";  
>person["lastName"] = "Doe";  
>person["age"] = 46;  
>var x = person.length;      // person.length will return 0  
>var y = person[0];          // person[0] will return undefined  

4. **Непонимание поплавков**  
***
Все числа в JavaScript хранятся как 64- битные числа с плавающей запятой (Floats).  
Все языки программирования, включая JavaScript, испытывают трудности с точными значениями с плавающей запятой:

>***Плохо***
>var x = 0.1;  
>var y = 0.2;  
>var z = x + y            // the result in z will not be 0.3  

Чтобы решить указанную выше проблему, помогает умножать и делить:

>***Хорошо***
>var z = (x * 10 + y * 10) / 10;       // z will be 0.3

5. **Никогда не объявляйте числовые, строковые или логические объекты**
***
Всегда относитесь к числам, строкам или логическим значениям как к примитивным значениям. Не как объекты.  
Объявление этих типов как объектов снижает скорость выполнения и вызывает неприятные побочные эффекты:

>***Плохо***  
>var x = "John";  
>var y = new String("John");  
>(x === y) // is false because x is a string and y is an object.  

Или еще хуже:

>***Плохо***  
>var x = new String("John");  
>var y = new String("John");  
>(x == y) // is false because you cannot compare objects.  

***Хорошо:***
***
Используйте {} вместо new Object()  
Используйте "" вместо new String()  
Используйте 0 вместо new Number()  
Используйте false вместо new Boolean()  
Используйте [] вместо new Array()  
Используйте /()/ вместо new RegExp()  
Используйте function (){} вместо new Function()

6. **Инициализировать переменные**  
***
Хорошая практика программирования - инициализировать переменные при их объявлении.  
Это будет:  
- Дайте более чистый код;  
- Обеспечьте единое место для инициализации переменных;  
- Избегайте неопределенных значений.

>***Хорошо***  
var firstName = "Привет",  
lastName = "Пока",  
discount = 0,  
fullPrice = 0,  
>myArray = [1, 2, 3, 4];

>***Плохо***  
var firstName,  
lastName,  
discount,  
fullPrice,  
>myArray;

7. **Используйте === Сравнение**  
***
Оператор ==сравнения всегда преобразуется (в соответствующие типы) перед сравнением.  
===Оператор силы Сравнение значений и типов:

>***Плохо***
0 == "";        // true  
1 == "1";       // true  
1 == true;      // true  

>***Хорошо***
0 === "";       // false  
1 === "1";      // false  
1 === true;     // false  


8. **Неопределенное не равно нулю**
***
Объекты, переменные, свойства и методы JavaScript могут быть ***undefined***.  
Кроме того, пустые объекты JavaScript могут иметь значение ***null***.  
Это может немного затруднить проверку того, пуст ли объект.  
Вы можете проверить, существует ли объект, проверив его тип ***undefined***:

>Пример:  
>if (typeof myObj === "undefined")  

Но вы не можете проверить, есть ли объект ***null***, потому что это вызовет ошибку, если объект ***undefined***:

>***Плохо:***  
>if (myObj === null)

Чтобы решить эту проблему, вы должны проверить, нет ли объекта ***null*** или нет ***undefined***.  
Но это все равно может вызвать ошибку:  

>***Плохо:***  
>if (myObj !== null && typeof myObj !== "undefined")

Из-за этого вы должны протестировать на «not», ***undefined*** прежде чем сможете проверить на «not» ***null***:

>***Хорошо:***  
>if (typeof myObj !== "undefined" && myObj !== null)

9. **Избегайте однобуквенных, неосмысленных названий переменных, функций.**  
***
Имена должны давать представление о том, что делает эта функция, что обозначает переменная.  
Человек читая ваш код, должен понимать о чем идет речь.

>***Плохо:***  
function q() {  
  // ...код...  
}

>***Хорошо:***  
function query() {  
  // ...код...  
}

10. **Уменьшить доступ к DOM.**  
***
Доступ к HTML DOM происходит очень медленно по сравнению с другими операторами JavaScript.  
Если вы ожидаете получить доступ к элементу DOM несколько раз,  
обратитесь к нему один раз и используйте его как локальную переменную:

>***Хорошо***  
var obj;  
obj = document.getElementById("demo");  
obj.innerHTML = "Hello";  

>***Плохо***  
document.getElementById("demo");  
document.innerHTML = "Hello";  
